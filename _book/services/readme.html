<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Services | Feathers</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../rest/readme.html" />
    
    
    <link rel="prev" href="../why/vs/parse.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="3"
        data-chapter-title="Services"
        data-filepath="services/readme.md"
        data-basepath=".."
        data-revision="Mon Feb 15 2016 22:58:02 GMT+0100 (CET)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="getting-started/readme.html">
            
                
                    <a href="../getting-started/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Getting Started
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="getting-started/quick-start.html">
            
                
                    <a href="../getting-started/quick-start.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Quick Start
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting-started/your-first-app/readme.html">
            
                
                    <a href="../getting-started/your-first-app/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Your First App
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="why/readme.html">
            
                
                    <a href="../why/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Why Feathers
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="why/philosophy.html">
            
                
                    <a href="../why/philosophy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Philosophy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="why/vs/readme.html">
            
                
                    <a href="../why/vs/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Features
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="why/vs/express-socketio.html">
            
                
                    <a href="../why/vs/express-socketio.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Feathers vs Express + Socket.io
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="why/vs/meteor.html">
            
                
                    <a href="../why/vs/meteor.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Feathers vs Meteor
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="why/vs/sails.html">
            
                
                    <a href="../why/vs/sails.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Feathers vs Sails
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="why/vs/firebase.html">
            
                
                    <a href="../why/vs/firebase.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Feathers vs Firebase
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="why/vs/parse.html">
            
                
                    <a href="../why/vs/parse.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Feathers vs Parse
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="3" data-path="services/readme.html">
            
                
                    <a href="../services/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Services
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="rest/readme.html">
            
                
                    <a href="../rest/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        REST
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="real-time/readme.html">
            
                
                    <a href="../real-time/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Real-Time
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="real-time/events.html">
            
                
                    <a href="../real-time/events.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Service events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="real-time/socket-io.html">
            
                
                    <a href="../real-time/socket-io.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Socket.io
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="real-time/primus.html">
            
                
                    <a href="../real-time/primus.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Primus
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="real-time/filtering.html">
            
                
                    <a href="../real-time/filtering.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Event Filtering
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="databases/readme.html">
            
                
                    <a href="../databases/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Databases
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="databases/pagination.html">
            
                
                    <a href="../databases/pagination.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Pagination and sorting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="databases/querying.html">
            
                
                    <a href="../databases/querying.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Querying
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="databases/extending.html">
            
                
                    <a href="../databases/extending.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Extending adapters
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="databases/memory.html">
            
                
                    <a href="../databases/memory.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        In Memory
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="databases/nedb.html">
            
                
                    <a href="../databases/nedb.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        NeDB
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="databases/mongoose.html">
            
                
                    <a href="../databases/mongoose.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                        Mongoose
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="databases/sequelize.html">
            
                
                    <a href="../databases/sequelize.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                        Sequelize
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="databases/knexjs.html">
            
                
                    <a href="../databases/knexjs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.</b>
                        
                        KnexJS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="databases/waterline.html">
            
                
                    <a href="../databases/waterline.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.9.</b>
                        
                        Waterline
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="hooks/readme.html">
            
                
                    <a href="../hooks/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Hooks
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="hooks/usage.html">
            
                
                    <a href="../hooks/usage.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Usage
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="hooks/examples.html">
            
                
                    <a href="../hooks/examples.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Examples
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="hooks/bundled.html">
            
                
                    <a href="../hooks/bundled.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Built-in hooks
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="clients/readme.html">
            
                
                    <a href="../clients/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Client Use
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="clients/feathers.html">
            
                
                    <a href="../clients/feathers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Universal Feathers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="clients/rest.html">
            
                
                    <a href="../clients/rest.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        REST
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="clients/socket-io.html">
            
                
                    <a href="../clients/socket-io.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Socket.io
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="clients/primus.html">
            
                
                    <a href="../clients/primus.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        Primus
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="middleware/readme.html">
            
                
                    <a href="../middleware/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Middleware
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="middleware/express.html">
            
                
                    <a href="../middleware/express.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Express Middleware
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="middleware/routing.html">
            
                
                    <a href="../middleware/routing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Routing and Versioning
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="authentication/readme.html">
            
                
                    <a href="../authentication/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Authentication
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="authentication/local.html">
            
                
                    <a href="../authentication/local.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Local (username &amp; password)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="authentication/token.html">
            
                
                    <a href="../authentication/token.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        Token (JWT)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="authentication/oauth1.html">
            
                
                    <a href="../authentication/oauth1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        Oauth1 (Twitter, etc)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="authenication/oauth2.html">
            
            <span><b>10.4.</b> OAuth2 (Facebook, etc)</span>
            
            
        </li>
    
        <li class="chapter " data-level="10.5" data-path="authentication/two-factor.html">
            
                
                    <a href="../authentication/two-factor.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.5.</b>
                        
                        Two Factor
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.6" data-path="authentication/authorization.html">
            
                
                    <a href="../authentication/authorization.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.6.</b>
                        
                        Authorization / Access Control
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.7" data-path="authentication/bundled-hooks.html">
            
                
                    <a href="../authentication/bundled-hooks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.7.</b>
                        
                        Bundled Auth Hooks
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="hooks/authorization.html">
            
            <span><b>11.</b> Authorization</span>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="middleware/error-handling.html">
            
                
                    <a href="../middleware/error-handling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Error Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="middleware/logging.html">
            
                
                    <a href="../middleware/logging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Logging
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="api/readme.html">
            
                
                    <a href="../api/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Core API
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="guides/readme.html">
            
                
                    <a href="../guides/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Guides
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.1" data-path="guides/migrating.html">
            
                
                    <a href="../guides/migrating.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.1.</b>
                        
                        Migrating to Feathers 2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.2" >
            
            <span><b>15.2.</b> Creating a plugin</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.3" >
            
            <span><b>15.3.</b> React</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.4" >
            
            <span><b>15.4.</b> React Native</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.5" >
            
            <span><b>15.5.</b> jQuery</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.6" >
            
            <span><b>15.6.</b> CanJS</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.7" >
            
            <span><b>15.7.</b> Angular</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.8" >
            
            <span><b>15.8.</b> VueJS</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.9" >
            
            <span><b>15.9.</b> iOS</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.10" >
            
            <span><b>15.10.</b> Android</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="16" data-path="help/readme.html">
            
                
                    <a href="../help/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Help
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1" data-path="help/faq.html">
            
                
                    <a href="../help/faq.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.1.</b>
                        
                        FAQ
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.2" data-path="contributing.html">
            
                
                    <a href="../contributing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.2.</b>
                        
                        Contributing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.3" data-path="changelog.html">
            
                
                    <a href="../changelog.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.3.</b>
                        
                        Changelog
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="17" data-path="license.html">
            
                
                    <a href="../license.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        License
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Feathers</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="services">Services</h1>
<p>Services are the heart of every Feathers application. A service is simply a JavaScript object that offers one or more of the <code>find</code>, <code>get</code>, <code>create</code>, <code>update</code>, <code>remove</code> and <code>setup</code> service methods and can be used just like an <a href="http://expressjs.com/en/guide/using-middleware.html" target="_blank">Express middleware</a> with <code>app.use(&apos;/path&apos;, serviceObject)</code>.</p>
<p>A Feathers application with a very simple service and the <a href="../rest/readme.html">REST provider</a> set up can look like this:</p>
<pre><code class="lang-js"><span class="hljs-comment">// app.js</span>
<span class="hljs-keyword">const</span> feathers = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers&apos;</span>);
<span class="hljs-keyword">const</span> rest = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-rest&apos;</span>);
<span class="hljs-keyword">const</span> app = feathers();

app.configure(rest());
app.use(<span class="hljs-string">&apos;/todos&apos;</span>, {
  get(id, params) {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve({
      id,
      params,
      description: <span class="hljs-string">`You have to do <span class="hljs-subst">${id}</span>!`</span>
    });
  }
});

app.listen(<span class="hljs-number">3030</span>);
</code></pre>
<p>After running</p>
<pre><code>$ npm install feathers feathers-rest
$ node app.js
</code></pre><p>When going to <a href="http://localhost:3030/todos/dishes" target="_blank">localhost:3030/todos/dishes</a> you will see:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;dishes&quot;</span>,
  <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;You have to do dishes!&quot;</span>,
  <span class="hljs-string">&quot;params&quot;</span>: {
    <span class="hljs-string">&quot;provider&quot;</span>: <span class="hljs-string">&quot;rest&quot;</span>,
    <span class="hljs-string">&quot;query&quot;</span>: {}
  }
}
</code></pre>
<p>Adding query parameters, e.g. <a href="http://localhost:3030/todos/dishes?name=David" target="_blank">localhost:3030/todos/dishes?name=David</a> will return this:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;dishes&quot;</span>,
  <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;You have to do dishes!&quot;</span>,
  <span class="hljs-string">&quot;params&quot;</span>: {
    <span class="hljs-string">&quot;provider&quot;</span>: <span class="hljs-string">&quot;rest&quot;</span>,
    <span class="hljs-string">&quot;query&quot;</span>: {
      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;David&quot;</span>
    }
  }
}
</code></pre>
<h2 id="retrieving-services">Retrieving services</h2>
<p>When registering a service with <code>app.use(&apos;/my-service&apos;, myService)</code> Feathers makes a shallow copy of that object and adds its own functionality. This means that to use Feathers functionality (like <a href="../real-time/readme.html">real-time events</a>, <a href="../hooks/readme.html">hooks</a> etc.) this object has to be used. It can be retrieved using <code>app.service</code> like this:</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> todos = app.service(<span class="hljs-string">&apos;todos&apos;</span>);
<span class="hljs-comment">// also works with leading/trailing slashes</span>
<span class="hljs-keyword">const</span> todos = app.service(<span class="hljs-string">&apos;/todos/&apos;</span>);

<span class="hljs-comment">// Now we can use it on the server</span>
todos.get(<span class="hljs-string">&apos;laundry&apos;</span>).then(todo =&gt; <span class="hljs-built_in">console</span>.log(todo.description));
</code></pre>
<blockquote>
<p><strong>Important:</strong> The original service object will not be modified and will never have any Feathers functionality.</p>
</blockquote>
<h2 id="service-methods">Service methods</h2>
<p>The complete list of service method signatures is as follows:</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> myService = {
  find(params [, callback]) {},
  get(id, params [, callback]) {},
  create(data, params [, callback]) {},
  update(id, data, params [, callback]) {},
  patch(id, data, params [, callback]) {},
  remove(id, params [, callback]) {},
  setup(app, path) {}
}

app.use(<span class="hljs-string">&apos;/my-service&apos;</span>, myService);
</code></pre>
<p>Or as an <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes" target="_blank">ES6 class</a>:</p>
<pre><code class="lang-js"><span class="hljs-pi">&apos;use strict&apos;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyService</span> </span>{
  find(params [, callback]) {}
  get(id, params [, callback]) {}
  create(data, params [, callback]) {}
  update(id, data, params [, callback]) {}
  patch(id, data, params [, callback]) {}
  remove(id, params [, callback]) {}
  setup(app, path) {}
}

app.use(<span class="hljs-string">&apos;/my-service&apos;</span>, <span class="hljs-keyword">new</span> MyService());
</code></pre>
<p>Service methods should return a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">Promise</a> and have the following parameters:</p>
<ul>
<li><code>id</code> the identifier for the resource. A resource is the data identified by a unique id.</li>
<li><code>data</code> is the resource data</li>
<li><code>params</code> can contain any extra parameters, for example the authenticated user. <code>params.query</code> contains the query parameters from the client (see the <a href="../rest/readme.html">REST</a> and <a href="../real-time/readme.html">real-time</a> providers).</li>
<li><code>callback</code> is an optional callback that can be called instead of returning a Promise. It is a Node-style callback function following the <code>function(error, result) {}</code> convention.</li>
</ul>
<p>These methods basically reflect a <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank">CRUD</a> interface:</p>
<ul>
<li><code>find(params [, callback])</code> retrieves a list of all resources from the service. Provider parameters will be passed as <code>params.query</code>.</li>
<li><code>get(id, params [, callback])</code> retrieves a single resource with the given <code>id</code> from the service.</li>
<li><code>create(data, params [, callback])</code> creates a new resource with <code>data</code>. The method should return a Promise with the newly created data. <code>data</code> may also be an array which creates and returns a list of resources.</li>
<li><code>update(id, data, params [, callback])</code> replaces the resource identified by <code>id</code> with <code>data</code>. The method should return a Promise with the complete updated resource data. <code>id</code> can also be <code>null</code> when updating multiple records.</li>
<li><code>patch(id, data, params [, callback])</code> merges the existing data of the resource identified by <code>id</code> with the new <code>data</code>. <code>id</code> can also be <code>null</code> indicating that multiple resources should be patched. The method should return with the complete updated resource data. Implement <code>patch</code> additionally to <code>update</code> if you want to separate between partial and full updates and support the <code>PATCH</code> HTTP method.</li>
<li><code>remove(id, params [, callback])</code> removes the resource with <code>id</code>. The method should return a Promise with the removed resource. <code>id</code> can also be <code>null</code> indicating to delete multiple resources.</li>
</ul>
<h2 id="the-setup-method">The <code>setup</code> method</h2>
<p><code>setup(app, path)</code> initializes the service, passing an instance of the Feathers application and the path it has been registered on. <code>setup</code> is a great way to connect services:</p>
<pre><code class="lang-js"><span class="hljs-comment">// app.js</span>
<span class="hljs-pi">&apos;use strict&apos;</span>;

<span class="hljs-keyword">const</span> feathers = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers&apos;</span>);
<span class="hljs-keyword">const</span> rest = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-rest&apos;</span>);

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoService</span> </span>{
  get(id, params) {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve({
      id,
      description: <span class="hljs-string">`You have to <span class="hljs-subst">${id}</span>!`</span>
    });
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyService</span> </span>{
  setup(app) {
    <span class="hljs-keyword">this</span>.app = app;
  }

  get(name, params) {
    <span class="hljs-keyword">const</span> todos = <span class="hljs-keyword">this</span>.app.service(<span class="hljs-string">&apos;todos&apos;</span>);

    <span class="hljs-keyword">return</span> todos.get(<span class="hljs-string">&apos;take out trash&apos;</span>)
      .then(todo =&gt; {
        <span class="hljs-keyword">return</span> { name, todo };
      });
  }
}

<span class="hljs-keyword">const</span> app = feathers()
  .configure(rest())
  .use(<span class="hljs-string">&apos;/todos&apos;</span>, <span class="hljs-keyword">new</span> TodoService())
  .use(<span class="hljs-string">&apos;/my-service&apos;</span>, <span class="hljs-keyword">new</span> MyService())

app.listen(<span class="hljs-number">8000</span>);
</code></pre>
<p>You can see the combined response when going to <a href="http://localhost:8000/my-service/test" target="_blank">localhost:8000/my-service/test</a>.</p>
<h2 id="events">Events</h2>
<p>Any registered service will automatically turn into an event emitter that emits events when a resource has changed, that is a <code>create</code>, <code>update</code>, <code>patch</code> or <code>remove</code> service call returned successfully. For more information about events, please follow up in the <a href="../real-time/events.html">real-time events chapter</a>.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../why/vs/parse.html" class="navigation navigation-prev " aria-label="Previous page: Feathers vs Parse"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../rest/readme.html" class="navigation navigation-next " aria-label="Next page: REST"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-collapsible-menu/plugin.js"></script>
    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-heading-anchors/anchor-style.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"edit-link":{"base":"https://github.com/feathersjs/feathers-docs/edit/master","label":"Edit This Page"},"collapsible-menu":{},"heading-anchors":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"livereload":{}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
