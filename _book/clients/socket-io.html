<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Socket.io | Feathers</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../clients/primus.html" />
    
    
    <link rel="prev" href="../clients/rest.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="8.3"
        data-chapter-title="Socket.io"
        data-filepath="clients/socket-io.md"
        data-basepath=".."
        data-revision="Mon Feb 15 2016 22:58:02 GMT+0100 (CET)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="getting-started/readme.html">
            
                
                    <a href="../getting-started/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Getting Started
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="getting-started/quick-start.html">
            
                
                    <a href="../getting-started/quick-start.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Quick Start
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting-started/your-first-app/readme.html">
            
                
                    <a href="../getting-started/your-first-app/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Your First App
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="why/readme.html">
            
                
                    <a href="../why/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Why Feathers
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="why/philosophy.html">
            
                
                    <a href="../why/philosophy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Philosophy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="why/vs/readme.html">
            
                
                    <a href="../why/vs/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Features
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="why/vs/express-socketio.html">
            
                
                    <a href="../why/vs/express-socketio.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Feathers vs Express + Socket.io
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="why/vs/meteor.html">
            
                
                    <a href="../why/vs/meteor.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Feathers vs Meteor
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="why/vs/sails.html">
            
                
                    <a href="../why/vs/sails.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Feathers vs Sails
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="why/vs/firebase.html">
            
                
                    <a href="../why/vs/firebase.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Feathers vs Firebase
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="why/vs/parse.html">
            
                
                    <a href="../why/vs/parse.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Feathers vs Parse
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="services/readme.html">
            
                
                    <a href="../services/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Services
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="rest/readme.html">
            
                
                    <a href="../rest/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        REST
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="real-time/readme.html">
            
                
                    <a href="../real-time/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Real-Time
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="real-time/events.html">
            
                
                    <a href="../real-time/events.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Service events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="real-time/socket-io.html">
            
                
                    <a href="../real-time/socket-io.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Socket.io
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="real-time/primus.html">
            
                
                    <a href="../real-time/primus.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Primus
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="real-time/filtering.html">
            
                
                    <a href="../real-time/filtering.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Event Filtering
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="databases/readme.html">
            
                
                    <a href="../databases/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Databases
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="databases/pagination.html">
            
                
                    <a href="../databases/pagination.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Pagination and sorting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="databases/querying.html">
            
                
                    <a href="../databases/querying.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Querying
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="databases/extending.html">
            
                
                    <a href="../databases/extending.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Extending adapters
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="databases/memory.html">
            
                
                    <a href="../databases/memory.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        In Memory
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="databases/nedb.html">
            
                
                    <a href="../databases/nedb.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        NeDB
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="databases/mongoose.html">
            
                
                    <a href="../databases/mongoose.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                        Mongoose
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="databases/sequelize.html">
            
                
                    <a href="../databases/sequelize.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                        Sequelize
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="databases/knexjs.html">
            
                
                    <a href="../databases/knexjs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.</b>
                        
                        KnexJS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="databases/waterline.html">
            
                
                    <a href="../databases/waterline.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.9.</b>
                        
                        Waterline
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="hooks/readme.html">
            
                
                    <a href="../hooks/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Hooks
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="hooks/usage.html">
            
                
                    <a href="../hooks/usage.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Usage
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="hooks/examples.html">
            
                
                    <a href="../hooks/examples.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Examples
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="hooks/bundled.html">
            
                
                    <a href="../hooks/bundled.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Built-in hooks
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="clients/readme.html">
            
                
                    <a href="../clients/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Client Use
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="clients/feathers.html">
            
                
                    <a href="../clients/feathers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Universal Feathers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="clients/rest.html">
            
                
                    <a href="../clients/rest.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        REST
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="8.3" data-path="clients/socket-io.html">
            
                
                    <a href="../clients/socket-io.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Socket.io
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="clients/primus.html">
            
                
                    <a href="../clients/primus.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        Primus
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="middleware/readme.html">
            
                
                    <a href="../middleware/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Middleware
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="middleware/express.html">
            
                
                    <a href="../middleware/express.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Express Middleware
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="middleware/routing.html">
            
                
                    <a href="../middleware/routing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Routing and Versioning
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="authentication/readme.html">
            
                
                    <a href="../authentication/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Authentication
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="authentication/local.html">
            
                
                    <a href="../authentication/local.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Local (username &amp; password)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="authentication/token.html">
            
                
                    <a href="../authentication/token.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        Token (JWT)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="authentication/oauth1.html">
            
                
                    <a href="../authentication/oauth1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        Oauth1 (Twitter, etc)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="authenication/oauth2.html">
            
            <span><b>10.4.</b> OAuth2 (Facebook, etc)</span>
            
            
        </li>
    
        <li class="chapter " data-level="10.5" data-path="authentication/two-factor.html">
            
                
                    <a href="../authentication/two-factor.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.5.</b>
                        
                        Two Factor
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.6" data-path="authentication/authorization.html">
            
                
                    <a href="../authentication/authorization.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.6.</b>
                        
                        Authorization / Access Control
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.7" data-path="authentication/bundled-hooks.html">
            
                
                    <a href="../authentication/bundled-hooks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.7.</b>
                        
                        Bundled Auth Hooks
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="hooks/authorization.html">
            
            <span><b>11.</b> Authorization</span>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="middleware/error-handling.html">
            
                
                    <a href="../middleware/error-handling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Error Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="middleware/logging.html">
            
                
                    <a href="../middleware/logging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Logging
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="api/readme.html">
            
                
                    <a href="../api/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Core API
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="guides/readme.html">
            
                
                    <a href="../guides/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Guides
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.1" data-path="guides/migrating.html">
            
                
                    <a href="../guides/migrating.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.1.</b>
                        
                        Migrating to Feathers 2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.2" >
            
            <span><b>15.2.</b> Creating a plugin</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.3" >
            
            <span><b>15.3.</b> React</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.4" >
            
            <span><b>15.4.</b> React Native</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.5" >
            
            <span><b>15.5.</b> jQuery</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.6" >
            
            <span><b>15.6.</b> CanJS</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.7" >
            
            <span><b>15.7.</b> Angular</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.8" >
            
            <span><b>15.8.</b> VueJS</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.9" >
            
            <span><b>15.9.</b> iOS</span>
            
            
        </li>
    
        <li class="chapter " data-level="15.10" >
            
            <span><b>15.10.</b> Android</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="16" data-path="help/readme.html">
            
                
                    <a href="../help/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Help
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1" data-path="help/faq.html">
            
                
                    <a href="../help/faq.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.1.</b>
                        
                        FAQ
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.2" data-path="contributing.html">
            
                
                    <a href="../contributing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.2.</b>
                        
                        Contributing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.3" data-path="changelog.html">
            
                
                    <a href="../changelog.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.3.</b>
                        
                        Changelog
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="17" data-path="license.html">
            
                
                    <a href="../license.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        License
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Feathers</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="socketio-client-use">Socket.io client use</h1>
<p><a href="../real-time/socket-io.html">With Socket.io configured on the server</a> service methods and events will be available through a websocket connection. While using the REST API and just listening to real-time events on a socket is possible, Feathers also allows to call service methods through a  websocket which in most cases will be faster than REST HTTP.</p>
<h2 id="establishing-the-connection">Establishing the connection</h2>
<p>Feathers sets up a normal Socket.io server that you can connect to using the <a href="http://socket.io/docs/client-api/" target="_blank">Socket.io client</a> either by loading the <code>socket.io-client</code> module or <code>/socket.io/socket.io.js</code> from the server. Unlike HTTP calls, websockets do not have a cross-origin restriction in the browser so it is possible to connect to any Feathers server.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> io = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;socket.io-client&apos;</span>);

<span class="hljs-keyword">const</span> socket = io();
<span class="hljs-comment">// Or to connect to another server</span>
<span class="hljs-keyword">const</span> socket = io(<span class="hljs-string">&apos;http://api.my-feathers-server.com&apos;</span>);
</code></pre>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&quot;text/javascript&quot;</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;socket.io/socket.io.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&quot;text/javascript&quot;</span>&gt;</span><span class="actionscript">
  <span class="hljs-keyword">var</span> socket = io();
  <span class="hljs-comment">// Or to connect to another server</span>
  <span class="hljs-keyword">var</span> socket = io(<span class="hljs-string">&apos;http://api.my-feathers-server.com&apos;</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<blockquote>
<p><strong>Note</strong>: The socket connection URL has to point to the server root which is where Feathers will set up Socket.io.</p>
</blockquote>
<h2 id="featherssocketio-client">feathers-socketio client</h2>
<p>Using <a href="feathers.html">the Feathers client</a>, the <code>feathers-socketio/client</code> module can now be configured to use that socket as the connection:</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> feathers = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers&apos;</span>);
<span class="hljs-keyword">const</span> socketio = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-socketio/client&apos;</span>);
<span class="hljs-keyword">const</span> io = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;socket.io-client&apos;</span>);

<span class="hljs-keyword">const</span> socket = io();
<span class="hljs-keyword">const</span> app = feathers().configure(socketio(socket));

<span class="hljs-comment">// Get the todo service that uses a websocket connection</span>
<span class="hljs-keyword">const</span> todoService = app.service(<span class="hljs-string">&apos;todos&apos;</span>);

todoService.on(<span class="hljs-string">&apos;created&apos;</span>, todo =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Someone created a todo&apos;</span>, todo));
</code></pre>
<h2 id="direct-socket-events">Direct socket events</h2>
<p>A service can also be used by sending and receiving events through a plain Socket.io connection (which is what the <code>feathers-socketio</code> client ultimately does). This works with any client that can connect to a Socket.io server. In the following example we will just re-use the socket connection that we set up at the beginning of this chapter.</p>
<h3 id="calling-service-methods">Calling service methods</h3>
<p>Service methods can be called by emitting a <code>&lt;servicepath&gt;::&lt;methodname&gt;</code> event with the method parameters. <code>servicepath</code> is the name the service has been registered with (in <code>app.use</code>) without leading or trailing slashes. An optional callback following the <code>function(error, data)</code> Node convention will be called with the result of the method call or any errors that might have occurred.</p>
<p><code>params</code> will be set as <code>params.query</code> in the service method call. Other service parameters can be set through a <a href="../real-time/socket-io.html">Socket.io middleware</a>.</p>
<h4 id="find"><code>find</code></h4>
<p>Retrieves a list of all matching resources from the service</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::find&apos;</span>, { status: <span class="hljs-string">&apos;completed&apos;</span>, user: <span class="hljs-number">10</span> }, (error, data) =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Found all todos&apos;</span>, data);
});
</code></pre>
<p>Will call <code>todos.find({ query: { status: &apos;completed&apos;, user: 10 } })</code>.</p>
<h4 id="get"><code>get</code></h4>
<p>Retrieve a single resource from the service.</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::get&apos;</span>, <span class="hljs-number">1</span>, (error, todo) =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Found todo&apos;</span>, todo);
});
</code></pre>
<p>Will call <code>todos.get(1, {})</code>.</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::get&apos;</span>, <span class="hljs-number">1</span>, { fetch: <span class="hljs-string">&apos;all&apos;</span> }, (error, todo) =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Found todo&apos;</span>, todo);
});
</code></pre>
<p>Will call <code>todos.get(1, { query: { fetch: &apos;all&apos; } })</code>.</p>
<h4 id="create"><code>create</code></h4>
<p>Create a new resource with <code>data</code> which may also be an array.</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::create&apos;</span>, {
  <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;I really have to iron&quot;</span>
}, (error, todo) =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Todo created&apos;</span>, todo);
});
</code></pre>
<p>Will call <code>todos.create({ &quot;description&quot;: &quot;I really have to iron&quot; }, {})</code>.</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::create&apos;</span>, [
  { <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;I really have to iron&quot;</span> },
  { <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;Do laundry&quot;</span> }
]);
</code></pre>
<p>Will call <code>todos.create</code> with the array.</p>
<h3 id="update"><code>update</code></h3>
<p>Completely replace a single or multiple resources.</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::update&apos;</span>, <span class="hljs-number">2</span>, {
  <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;I really have to do laundry&quot;</span>
}, (error, todo) =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Todo updated&apos;</span>, todo);
});
</code></pre>
<p>Will call <code>todos.update(2, { &quot;description&quot;: &quot;I really have to do laundry&quot; }, {})</code>. The <code>id</code> can also be <code>null</code> to update multiple resources:</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::update&apos;</span>, <span class="hljs-literal">null</span>, {
  complete: <span class="hljs-literal">true</span>
}, { complete: <span class="hljs-literal">false</span> });
</code></pre>
<p>Will call <code>todos.update(null, { &quot;complete&quot;: true }, { query: { complete: &apos;false&apos; } })</code>.</p>
<blockquote>
<p><strong>Note:</strong> <code>update</code> is normally expected to replace an entire resource which is why the database adapters only support <code>patch</code> for multiple records.</p>
</blockquote>
<h3 id="patch"><code>patch</code></h3>
<p>Merge the existing data of a single or multiple resources with the new <code>data</code>.</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::patch&apos;</span>, <span class="hljs-number">2</span>, {
  completed: <span class="hljs-literal">true</span>
}, (error, todo) =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Patched todo&apos;</span>, todo);
});
</code></pre>
<p>Will call <code>todos.patch(2, { &quot;completed&quot;: true }, {})</code>. The <code>id</code> can also be <code>null</code> to update multiple resources:</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::patch&apos;</span>, <span class="hljs-literal">null</span>, {
  complete: <span class="hljs-literal">true</span>
}, {
  complete: <span class="hljs-literal">false</span>
}, (error, todo) =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Patched todo&apos;</span>, todo);
});
</code></pre>
<p>Will call <code>todos.patch(null, { complete: true }, { query: { complete: false } })</code> to change the status for all completed todos.</p>
<p>This is supported out of the box by the Feathers <a href="../databases/readme.html">database adapters</a> </p>
<h3 id="remove"><code>remove</code></h3>
<p>Remove a single or multiple resources:</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::remove&apos;</span>, <span class="hljs-number">2</span>, { cascade: <span class="hljs-literal">true</span> }, (error, todo) =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Removed a todo&apos;</span>, todo);
});
</code></pre>
<p>Will call <code>todos.remove(2, { query: { cascade: true } })</code>. The <code>id</code> can also be <code>null</code> to remove multiple resources:</p>
<pre><code class="lang-js">socket.emit(<span class="hljs-string">&apos;todos::remove&apos;</span>, <span class="hljs-literal">null</span>, { completed: <span class="hljs-literal">true</span> });
</code></pre>
<p>Will call <code>todos.remove(null, { query: { completed: &apos;true&apos; } })</code> to delete all completed todos.</p>
<h3 id="listening-to-events">Listening to events</h3>
<p>Listening to service events allows real-time behaviour in an application. <a href="../real-time/readme.html">Service events</a> are sent to the socket in the form of <code>servicepath eventname</code>.</p>
<h4 id="created">created</h4>
<p>The <code>created</code> event will be published with the callback data when a service <code>create</code> returns successfully.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">var</span> socket = io(<span class="hljs-string">&apos;http://localhost:8000/&apos;</span>);

  socket.on(<span class="hljs-string">&apos;todos created&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">todo</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Got a new Todo!&apos;</span>, todo);
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<h4 id="updated-patched">updated, patched</h4>
<p>The <code>updated</code> and <code>patched</code> events will be published with the callback data when a service <code>update</code> or <code>patch</code> method calls back successfully.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">var</span> socket = io(<span class="hljs-string">&apos;http://localhost:8000/&apos;</span>);

  socket.on(<span class="hljs-string">&apos;my/todos updated&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">todo</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Got an updated Todo!&apos;</span>, todo);
  });

  socket.emit(<span class="hljs-string">&apos;my/todos::update&apos;</span>, <span class="hljs-number">1</span>, {
    description: <span class="hljs-string">&apos;Updated description&apos;</span>
  }, {}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error, callback</span>) </span>{
   <span class="hljs-comment">// Do something here</span>
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<h4 id="removed">removed</h4>
<p>The <code>removed</code> event will be published with the callback data when a service <code>remove</code> calls back successfully.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">var</span> socket = io(<span class="hljs-string">&apos;http://localhost:8000/&apos;</span>);

  socket.on(<span class="hljs-string">&apos;todos removed&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">todo</span>) </span>{
    <span class="hljs-comment">// Remove element showing the Todo from the page</span>
    $(<span class="hljs-string">&apos;#todo-&apos;</span> + todo.id).remove();
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../clients/rest.html" class="navigation navigation-prev " aria-label="Previous page: REST"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../clients/primus.html" class="navigation navigation-next " aria-label="Next page: Primus"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-collapsible-menu/plugin.js"></script>
    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-heading-anchors/anchor-style.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"edit-link":{"base":"https://github.com/feathersjs/feathers-docs/edit/master","label":"Edit This Page"},"collapsible-menu":{},"heading-anchors":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"livereload":{}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
